<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>White Bakana</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    
    <div class="centered-div">
        <h2>Proxim√°mente</h2>
        Lorem ipsum dolor sit lorem mre amet, consectetur adipisicing elit. Earum aliquid architecto explicabo vel excepturi iure placeat, eum fugiat officia ea ad maiores hic natus repudiandae officiis cumque accusantium. Consequatur, culpa?
        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nesciunt, dolores. Voluptatem cupiditate tempora cum perferendis ab voluptate, nihil suscipit ullam, fugit similique soluta rem deserunt doloribus quos consectetur, consequuntur nostrum.
    </div>

    <form id="emailForm">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        <button type="submit">Submit</button>
        
      </form>

    <script>
        document.getElementById('emailForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const email = document.getElementById('email').value;

        const response = await fetch('https://fiscal-mommy-virtual-nautilus-a7c0219d.koyeb.app/ping', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ "email" : email }),
        }) 
        .then(response => response.text()).then(data => console.log(data)).catch((error) => console.error('Error:', error));

        const data = await response.json();
        console.log(data);
        console.log(response)

    if (response.ok) {
        const result = await response.text();
        alert(result);  // Show result
    } else {
        console.error('Request failed:', response.status, response.statusText);
        alert('Error submitting email');
    }
});

    </script>
</body>
</html>